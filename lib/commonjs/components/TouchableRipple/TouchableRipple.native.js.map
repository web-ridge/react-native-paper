{"version":3,"sources":["TouchableRipple.native.tsx"],"names":["TouchableRipple","style","background","borderless","disabled","disabledProp","rippleColor","underlayColor","children","theme","rest","dark","colors","onPress","calculatedRippleColor","text","alpha","rgb","string","rippleContainerStyle","color","interactionState","styles","touchable","React","Children","only","pressed","Platform","OS","StyleSheet","absoluteFill","backgroundColor","create","position","overflow","memo"],"mappings":";;;;;;;AAAA;;AACA;;AAUA;;AACA;;AACA;;;;;;;;;;;;;;AAmBA,MAAMA,eAAe,GAAG,UAUX;AAAA,MAVY;AACvBC,IAAAA,KAAK,EAALA,MADuB;AAEvBC,IAAAA,UAFuB;AAGvBC,IAAAA,UAAU,GAAG,KAHU;AAIvBC,IAAAA,QAAQ,EAAEC,YAJa;AAKvBC,IAAAA,WALuB;AAMvBC,IAAAA,aANuB;AAOvBC,IAAAA,QAPuB;AAQvBC,IAAAA;AARuB,GAUZ;AAAA,MADRC,IACQ;;AACX,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA;AAAR,MAAmBH,KAAzB;AACA,QAAML,QAAQ,GAAGC,YAAY,IAAI,CAACK,IAAI,CAACG,OAAvC;AACA,QAAMC,qBAAqB,GACzBR,WAAW,IACX,oBAAMM,MAAM,CAACG,IAAb,EACGC,KADH,CACSL,IAAI,GAAG,IAAH,GAAU,GADvB,EAEGM,GAFH,GAGGC,MAHH,EAFF;AAMA,QAAMC,oBAAoB,GAAG,4BAAgBlB,MAAhB,CAA7B;AACA,sBACE,oBAAC,sBAAD,eACMS,IADN;AAEE,IAAA,QAAQ,EAAEN,QAFZ;AAGE,IAAA,cAAc,EAAE;AACdgB,MAAAA,KAAK,EAAElB,UAAU,IAAI,IAAd,GAAqBA,UAArB,GAAkCY,qBAD3B;AAEdX,MAAAA;AAFc,KAHlB;AAOE,IAAA,KAAK,EAAGkB,gBAAD,IAAwC,CAC7CC,MAAM,CAACC,SADsC,EAE7CpB,UAAU,IAAImB,MAAM,CAACnB,UAFwB,EAG7C,gCAAoBkB,gBAApB,EAAsCpB,MAAtC,CAH6C;AAPjD,MAaIoB,gBAAD,iBACC,0CACGG,KAAK,CAACC,QAAN,CAAeC,IAAf,CACC,mCAAuBL,gBAAvB,EAAyCb,QAAzC,CADD,CADH,EAIGa,gBAAgB,CAACM,OAAjB,IAA4BC,sBAASC,EAAT,KAAgB,SAA5C,gBACC,oBAAC,iBAAD;AACE,IAAA,KAAK,EAAE,CACLC,wBAAWC,YADN,EAELZ,oBAFK,EAGL;AAAEa,MAAAA,eAAe,EAAEzB,aAAa,IAAIO;AAApC,KAHK;AADT,IADD,GAQG,IAZN,CAdJ,CADF;AAgCD,CApDD;;AAsDA,MAAMQ,MAAM,GAAGQ,wBAAWG,MAAX,CAAkB;AAC/BV,EAAAA,SAAS,EAAE;AACTW,IAAAA,QAAQ,EAAE;AADD,GADoB;AAI/B/B,EAAAA,UAAU,EAAE;AACVgC,IAAAA,QAAQ,EAAE;AADA;AAJmB,CAAlB,CAAf;;4BASeX,KAAK,CAACY,IAAN,CAAW,wBAAUpC,eAAV,CAAX,C","sourcesContent":["import * as React from 'react';\nimport {\n  StyleSheet,\n  Pressable,\n  View,\n  Platform,\n  ColorValue,\n  ViewStyle,\n  StyleProp,\n  GestureResponderEvent,\n} from 'react-native';\nimport color from 'color';\nimport { withTheme } from '../../core/theming';\nimport {\n  getInteractionChildren,\n  getInteractionStyle,\n  InteractionState,\n  useRadiusStyles,\n} from './utils';\n\ntype Props = React.ComponentProps<typeof Pressable> & {\n  borderless?: boolean;\n  background?: string;\n  disabled?: boolean;\n  onPress?: (event: GestureResponderEvent) => void | null;\n  rippleColor?: ColorValue;\n  underlayColor?: ColorValue;\n  children: React.ReactNode;\n  style?: StyleProp<ViewStyle>;\n  theme: ReactNativePaper.Theme;\n};\n\nconst TouchableRipple = ({\n  style,\n  background,\n  borderless = false,\n  disabled: disabledProp,\n  rippleColor,\n  underlayColor,\n  children,\n  theme,\n  ...rest\n}: Props) => {\n  const { dark, colors } = theme;\n  const disabled = disabledProp || !rest.onPress;\n  const calculatedRippleColor =\n    rippleColor ||\n    color(colors.text)\n      .alpha(dark ? 0.32 : 0.2)\n      .rgb()\n      .string();\n  const rippleContainerStyle = useRadiusStyles(style);\n  return (\n    <Pressable\n      {...rest}\n      disabled={disabled}\n      android_ripple={{\n        color: background != null ? background : calculatedRippleColor,\n        borderless,\n      }}\n      style={(interactionState: InteractionState) => [\n        styles.touchable,\n        borderless && styles.borderless,\n        getInteractionStyle(interactionState, style),\n      ]}\n    >\n      {(interactionState: InteractionState) => (\n        <>\n          {React.Children.only(\n            getInteractionChildren(interactionState, children)\n          )}\n          {interactionState.pressed && Platform.OS !== 'android' ? (\n            <View\n              style={[\n                StyleSheet.absoluteFill,\n                rippleContainerStyle,\n                { backgroundColor: underlayColor || calculatedRippleColor },\n              ]}\n            />\n          ) : null}\n        </>\n      )}\n    </Pressable>\n  );\n};\n\nconst styles = StyleSheet.create({\n  touchable: {\n    position: 'relative',\n  },\n  borderless: {\n    overflow: 'hidden',\n  },\n});\n\nexport default React.memo(withTheme(TouchableRipple));\n"]}